(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{425:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return L}});var i=e(7294),o=e(508),r=e(5675),s=e.n(r),a=e(6687),l=e(5893),d=(0,i.createContext)(null),c=function(t){var n=t.children,e=(0,i.useState)(!1),o=e[0],r=e[1],s=(0,i.useState)([]),c=s[0],p=s[1],h=(0,i.useState)(0),f=h[0];return h[1],(0,l.jsx)(d.Provider,{value:{isCartVisible:o,toggleCartVisibility:function(){r(function(t){return!t})},cartItems:c,addToCart:function(t){c.some(function(n){return n.id===t.id})||p(function(n){return[].concat((0,a.Z)(n),[t])})},removeFromCart:function(t){p(function(n){return n.filter(function(n){return n.id!==t})})},purchaseTotal:f},children:n})},p=function(){return(0,i.useContext)(d)},h=o.ZP.div.withConfig({displayName:"CartAmount__CartAmountContainer",componentId:"sc-9p4yfz-0"})(["margin-left:auto;border-radius:8px;background:#FFF;width:90px;height:45px;flex-shrink:0;display:flex;justify-content:center;align-items:center;align-self:center;margin-right:2em;& span{color:#000;font-family:'Montserrat',sans-serif;font-size:18px;font-style:normal;font-weight:700;line-height:normal;margin-left:1em;-webkit-user-select:none;-ms-user-select:none;user-select:none;}"]),f=function(){var t=p(),n=t.toggleCartVisibility,e=t.cartItems;return(0,l.jsxs)(h,{onClick:n,children:[(0,l.jsx)(s(),{src:"/cart.png",alt:"Cart Image",width:19,height:18,quality:100}),(0,l.jsx)("span",{children:e.length})]})},m=o.ZP.div.withConfig({displayName:"Header__StyledHeader",componentId:"sc-iz7b7j-0"})(["@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Montserrat&family=Oswald&display=swap');display:flex;background:#0F52BA;line-height:19px;color:#FFF;font-style:normal;font-family:'Montserrat',sans-serif;& h1{font-size:40px;font-weight:600;margin-left:40px;}& p{font-size:20px;font-weight:100;margin-top:auto;margin-left:5px;}"]),u=function(){return(0,l.jsxs)(m,{children:[(0,l.jsx)("h1",{children:"MKS"}),(0,l.jsx)("p",{children:"Sistemas"}),(0,l.jsx)(f,{})]})},g=o.ZP.div.withConfig({displayName:"Footer__StyledFooter",componentId:"sc-dneyce-0"})(["@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Montserrat&family=Oswald&display=swap');display:flex;justify-content:center;background:#EEE;position:absolute;bottom:0;width:100%;& span{color:#000;font-family:'Montserrat',sans-serif;font-size:12px;font-style:normal;font-weight:400;line-height:normal;}"]),x=function(){return(0,l.jsx)(g,{children:(0,l.jsx)("span",{children:"MKS sistemas \xa9 Todos os direitos reservados"})})},y=e(7633),w=e(29),b=e(4687),C=e.n(b);function j(){return F.apply(this,arguments)}function F(){return(F=(0,w.Z)(C().mark(function t(){var n,e;return C().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://mks-frontend-challenge-04811e8151e6.herokuapp.com/api/v1/products?page=1&rows=5&sortBy=id&orderBy=DESC");case 2:return n=t.sent,t.next=5,n.json();case 5:if(e=t.sent,n.ok){t.next=8;break}throw Error("Failed to fetch products");case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var v=o.ZP.div.withConfig({displayName:"Product__ProductBox",componentId:"sc-zag8ie-0"})(["border-radius:8px;background:#FFF;box-shadow:0px 2px 8px 0px rgba(0,0,0,0.14);font-family:'Montserrat',sans-serif;color:#2C2C2C;font-style:normal;width:227px;height:300px;margin-top:1em;position:relative;& h1{font-size:16px;font-weight:400;margin-top:0;margin-bottom:0;overflow-wrap:anywhere;}& p{font-size:10px;font-weight:300;line-height:12px;}& img{height:139px;display:block;margin-left:auto;margin-right:auto;margin-bottom:1em;}"]),_=o.ZP.button.withConfig({displayName:"Product__PurchaseButton",componentId:"sc-zag8ie-1"})(["border-radius:0px 0px 8px 8px;background:#0F52BA;border-color:#0F52BA;color:#FFF;font-family:'Montserrat',sans-serif;font-size:14px;font-style:normal;font-weight:600;line-height:18px;width:100%;position:absolute;bottom:0;"]),k=o.ZP.div.withConfig({displayName:"Product__PriceTag",componentId:"sc-zag8ie-2"})(["border-radius:10px;background:#373737;align-self:flex-start;width:100%;& h1{color:#FFF;font-family:'Montserrat',sans-serif;font-size:15px;font-style:normal;font-weight:700;margin-top:0;margin-bottom:0;text-align:center;}"]),P=o.ZP.div.withConfig({displayName:"Product__PaddingBox",componentId:"sc-zag8ie-3"})(["padding-left:1em;padding-right:1em;"]),I=o.ZP.div.withConfig({displayName:"Product__FlexContainer",componentId:"sc-zag8ie-4"})(["display:flex;flex-direction:row;justify-content:center;align-items:space-evenly;& div{width:50%;}"]),z=function(t){var n=function(){t.addToCart()};return(0,l.jsxs)(v,{children:[(0,l.jsx)("img",{src:t.photo}),(0,l.jsxs)(P,{children:[(0,l.jsxs)(I,{children:[(0,l.jsx)("div",{children:(0,l.jsx)("h1",{children:t.name})}),(0,l.jsx)(k,{children:(0,l.jsxs)("h1",{children:["R$",t.price.split(".")[0]]})})]}),(0,l.jsx)("p",{children:t.description})]}),(0,l.jsx)(_,{onClick:function(){return n()},children:"Comprar"})]})},N=o.ZP.div.withConfig({displayName:"ProductsList__ProductsContainer",componentId:"sc-k45d16-0"})(["display:flex;justify-content:space-evenly;align-items:center;flex-wrap:wrap;margin-top:3em;padding-bottom:5em;"]),S=function(){var t=p().addToCart,n=(0,y.a)({queryKey:["products"],queryFn:j}),e=n.data,i=n.error;return n.isLoading?(0,l.jsx)("p",{children:"Loading..."}):i?(0,l.jsxs)("p",{children:["Error: ",i.message]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(N,{children:e.products.map(function(n){return(0,l.jsx)(z,{name:n.name,price:n.price,description:n.description,photo:n.photo,addToCart:function(){return t(n)}},n.id)})})})},Z=o.ZP.div.withConfig({displayName:"ProductInCartAmount__AmountContainer",componentId:"sc-1t1gcbb-0"})(["max-width:50px;height:19px;border-radius:4px;border:0.3px solid #BFBFBF;background:#FFF;display:flex;justify-content:space-around;font-style:normal;font-weight:400;line-height:normal;font-family:'Montserrat',sans-serif;margin-right:1em;& span{cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;}"]),M=function(t){return(0,l.jsxs)(Z,{children:[(0,l.jsx)("span",{onClick:t.decreaseAmount,children:"-"}),(0,l.jsx)("span",{children:t.productAmount}),(0,l.jsx)("span",{onClick:t.increaseAmount,children:"+"})]})},A=o.ZP.div.withConfig({displayName:"ProductInCart__ProductInCartContainer",componentId:"sc-1lmm4va-0"})(["border-radius:8px;background:#FFF;box-shadow:-2px 2px 10px 0px rgba(0,0,0,0.05);width:379px;min-height:95px;margin-bottom:1em;display:flex;align-items:center;position:relative;@media (max-width:991px){width:339px;}& span{color:#2C2C2C;font-family:'Montserrat',sans-serif;font-size:13px;font-style:normal;font-weight:400;line-height:17px;padding-top:0;padding-bottom:0;}& .deleteIcon{color:#fff;background-color:#000;border-radius:10px;width:18px;height:18px;display:flex;justify-content:center;align-items:center;position:absolute;top:0;right:0;cursor:pointer;}& div{color:#2C2C2C;font-family:'Montserrat',sans-serif;font-size:13px;font-style:normal;font-weight:400;line-height:17px;padding-top:0;padding-bottom:0;width:120px;}& img{width:46px;height:57px;margin-left:1em;margin-right:1em;}"]),B=function(t){var n=p().removeFromCart,e=(0,i.useState)(1),o=e[0],r=e[1];return(0,l.jsxs)(A,{children:[(0,l.jsx)("img",{src:t.photo}),(0,l.jsx)("div",{children:t.name}),(0,l.jsx)(M,{productAmount:o,decreaseAmount:function(){1!==o&&r(o-1)},increaseAmount:function(){o<99&&r(o+1)}}),(0,l.jsx)("span",{children:(0,l.jsxs)("b",{children:["R$",t.price.split(".")[0]*o]})}),(0,l.jsx)("span",{className:"deleteIcon",onClick:function(){return n(t.id)},children:"X"})]})},T=o.ZP.div.withConfig({displayName:"CartSidebar__SidebarContainer",componentId:"sc-19rvs1b-0"})(["position:absolute;top:0;right:0;background-color:#0F52BA;width:486px;height:100%;z-index:1;display:none;@media (max-width:991px){width:100%;height:100vh;}"]),E=o.ZP.div.withConfig({displayName:"CartSidebar__SidebarContent",componentId:"sc-19rvs1b-1"})(["& h1{color:#FFF;font-family:'Montserrat',sans-serif;font-size:27px;font-style:normal;font-weight:700;line-height:normal;height:73px;margin:0;padding-top:1em;padding-left:1em;}& button{width:100%;height:97px;background:#000;border:0;color:#FFF;font-family:'Montserrat',sans-serif;font-size:28px;font-style:normal;font-weight:700;line-height:15px;position:absolute;bottom:0;}"]),V=o.ZP.div.withConfig({displayName:"CartSidebar__TotalsContainer",componentId:"sc-19rvs1b-2"})(["display:flex;justify-content:space-between;margin-right:1em;& h1{color:#FFF;font-family:'Montserrat',sans-serif;font-size:27px;font-style:normal;font-weight:700;line-height:normal;margin:0;}& .closeIcon{display:flex;justify-content:center;align-items:center;background-color:#000;border-radius:20px;width:38px;height:38px;padding:0;margin-top:0.9em;font-weight:400;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;}"]),O=o.ZP.div.withConfig({displayName:"CartSidebar__FlexContainer",componentId:"sc-19rvs1b-3"})(["display:flex;align-items:center;flex-direction:column;padding-left:auto;padding-right:auto;overflow-y:scroll;max-height:400px;"]),X=function(t){var n=p(),e=n.isCartVisible,i=n.toggleCartVisibility,o=n.cartItems,r=n.purchaseTotal;return(0,l.jsx)(T,{style:{display:e?"initial":"none"},children:(0,l.jsxs)(E,{children:[(0,l.jsxs)(V,{children:[(0,l.jsx)("h1",{children:"Carrinho de Compras"}),(0,l.jsx)("h1",{className:"closeIcon",onClick:i,children:"X"})]}),(0,l.jsx)(O,{children:o.map(function(t){return(0,l.jsx)(B,{name:t.name,photo:t.photo,price:t.price,id:t.id},t.id)})}),(0,l.jsxs)(V,{children:[(0,l.jsx)("h1",{children:"Total"}),(0,l.jsxs)("h1",{children:["R$",r]})]}),(0,l.jsx)("button",{children:"Finalizar Compra"})]})})},q=e(6044),H=e(202),K=new q.S;function L(){return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(c,{children:[(0,l.jsx)(u,{}),(0,l.jsxs)(H.aH,{client:K,children:[(0,l.jsx)(S,{}),(0,l.jsx)(X,{})]}),(0,l.jsx)(x,{})]})})}},8312:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(425)}])}},function(t){t.O(0,[628,774,888,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);